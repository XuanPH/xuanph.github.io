<!doctype html>
<html data-n-head-ssr lang="fr-FR" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22fr-FR%22%7D%7D">
  <head>
    <title>Nhật ký làm hệ thống getLink vip Fshare trong 48h</title><meta data-n-head="ssr" data-hid="charset" charset="utf-8"><meta data-n-head="ssr" data-hid="viewport" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="Reiz Blog"><meta data-n-head="ssr" data-hid="author" name="author" content="José Silva"><meta data-n-head="ssr" data-hid="description" name="description" content="## Setup"><meta data-n-head="ssr" data-hid="theme-color" name="theme-color" content="#2C3E50"><meta data-n-head="ssr" data-hid="og:site_name" name="og:site_name" property="og:site_name" content="Reiz Blog"><meta data-n-head="ssr" data-hid="og:description" name="og:description" property="og:description" content="## Setup"><meta data-n-head="ssr" data-hid="og:image" name="og:image" property="og:image" content="https://nuxt-blog-clone.vercel.app/_nuxt/icons/icon_512x512.435457.png"><meta data-n-head="ssr" data-hid="og:image:width" name="og:image:width" property="og:image:width" content="512"><meta data-n-head="ssr" data-hid="og:image:height" name="og:image:height" property="og:image:height" content="512"><meta data-n-head="ssr" data-hid="og:image:type" name="og:image:type" property="og:image:type" content="image/png"><meta data-n-head="ssr" data-hid="twitter:card" name="twitter:card" property="twitter:card" content="summary_large_image"><meta data-n-head="ssr" data-hid="i18n-og" property="og:locale" content="fr_FR"><meta data-n-head="ssr" data-hid="i18n-og-alt-en-US" property="og:locale:alternate" content="en_US"><meta data-n-head="ssr" data-hid="i18n-og-alt-vi-VN" property="og:locale:alternate" content="vi_VN"><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="Nhật ký làm hệ thống getLink vip Fshare trong 48h"><meta data-n-head="ssr" data-hid="og:url" property="og:url" content="https://nuxt-blog-clone.vercel.app/fr/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG"><meta data-n-head="ssr" data-hid="og:type" property="og:type" content="article"><meta data-n-head="ssr" data-hid="article:author" name="article:author" content="undefined"><meta data-n-head="ssr" data-hid="article:published_time" name="article:published_time" content="2021-08-08 00:24"><meta data-n-head="ssr" data-hid="article:modified_time" name="article:modified_time" content="undefined"><link data-n-head="ssr" data-hid="gf-prefetch" rel="dns-prefetch" href="https://fonts.gstatic.com/"><link data-n-head="ssr" data-hid="gf-preconnect" rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link data-n-head="ssr" data-hid="gf-preload" rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap"><link data-n-head="ssr" data-hid="shortcut-icon" rel="shortcut icon" href="/_nuxt/icons/icon_64x64.435457.png"><link data-n-head="ssr" data-hid="apple-touch-icon" rel="apple-touch-icon" href="/_nuxt/icons/icon_512x512.435457.png" sizes="512x512"><link data-n-head="ssr" rel="manifest" href="/_nuxt/manifest.1e1fb381.json" data-hid="manifest"><link data-n-head="ssr" data-hid="i18n-alt-fr" rel="alternate" href="/fr/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG" hreflang="fr"><link data-n-head="ssr" data-hid="i18n-alt-fr-FR" rel="alternate" href="/fr/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG" hreflang="fr-FR"><link data-n-head="ssr" data-hid="i18n-alt-en" rel="alternate" href="/en/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG" hreflang="en"><link data-n-head="ssr" data-hid="i18n-alt-en-US" rel="alternate" href="/en/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG" hreflang="en-US"><link data-n-head="ssr" data-hid="i18n-alt-vi" rel="alternate" href="/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG" hreflang="vi"><link data-n-head="ssr" data-hid="i18n-alt-vi-VN" rel="alternate" href="/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG" hreflang="vi-VN"><link data-n-head="ssr" data-hid="i18n-xd" rel="alternate" href="/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG" hreflang="x-default"><link data-n-head="ssr" data-hid="i18n-can" rel="canonical" href="/fr/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG"><script data-n-head="ssr" data-hid="gf-script">!function(){var e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap",document.querySelector("head").appendChild(e)}()</script><noscript data-n-head="ssr" data-hid="gf-noscript"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap"></noscript><link rel="preload" href="/_nuxt/e63116c.js" as="script"><link rel="preload" href="/_nuxt/871bf3b.js" as="script"><link rel="preload" href="/_nuxt/f492d41.js" as="script"><link rel="preload" href="/_nuxt/afe0583.js" as="script"><link rel="preload" href="/_nuxt/47789da.js" as="script"><style data-vue-ssr-id="0211d3d2:0 36863a55:0 0623093e:0 fa7ff0ca:0 195b5351:0">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:Quicksand,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#a0aec0}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a0aec0}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.bg-transparent{background-color:transparent}.bg-black{--bg-opacity:1;background-color:#000;background-color:rgba(0,0,0,var(--bg-opacity))}.bg-gray-200{--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.bg-red-100{--bg-opacity:1;background-color:#fff5f5;background-color:rgba(255,245,245,var(--bg-opacity))}.bg-red-200{--bg-opacity:1;background-color:#fed7d7;background-color:rgba(254,215,215,var(--bg-opacity))}.bg-red-900{--bg-opacity:1;background-color:#742a2a;background-color:rgba(116,42,42,var(--bg-opacity))}.bg-orange-100{--bg-opacity:1;background-color:#fffaf0;background-color:rgba(255,250,240,var(--bg-opacity))}.bg-orange-200{--bg-opacity:1;background-color:#feebc8;background-color:rgba(254,235,200,var(--bg-opacity))}.bg-yellow-900{--bg-opacity:1;background-color:#744210;background-color:rgba(116,66,16,var(--bg-opacity))}.bg-green-100{--bg-opacity:1;background-color:#f0fff4;background-color:rgba(240,255,244,var(--bg-opacity))}.bg-green-200{--bg-opacity:1;background-color:#c6f6d5;background-color:rgba(198,246,213,var(--bg-opacity))}.bg-green-900{--bg-opacity:1;background-color:#22543d;background-color:rgba(34,84,61,var(--bg-opacity))}.bg-blue-100{--bg-opacity:1;background-color:#ebf8ff;background-color:rgba(235,248,255,var(--bg-opacity))}.bg-blue-200{--bg-opacity:1;background-color:#bee3f8;background-color:rgba(190,227,248,var(--bg-opacity))}.bg-blue-900{--bg-opacity:1;background-color:#2a4365;background-color:rgba(42,67,101,var(--bg-opacity))}.bg-nuxt-lightgreen{--bg-opacity:1;background-color:#00c58e;background-color:rgba(0,197,142,var(--bg-opacity))}.bg-light-elevatedSurface{--bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--bg-opacity))}.bg-dark-elevatedSurface{--bg-opacity:1;background-color:#2f495e;background-color:rgba(47,73,94,var(--bg-opacity))}.dark-mode .dark\:bg-dark-surface{--bg-opacity:1;background-color:#2c3e50;background-color:rgba(44,62,80,var(--bg-opacity))}.dark-mode .dark\:bg-dark-elevatedSurface{--bg-opacity:1;background-color:#2f495e;background-color:rgba(47,73,94,var(--bg-opacity))}.light-mode .light\:bg-light-surface{--bg-opacity:1;background-color:#f8fafc;background-color:rgba(248,250,252,var(--bg-opacity))}.dark-mode .dark\:hover\:bg-gray-800:hover{--bg-opacity:1;background-color:#2d3748;background-color:rgba(45,55,72,var(--bg-opacity))}.light-mode .light\:hover\:bg-gray-200:hover{--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.border-light-border{--border-opacity:1;border-color:#e2e8f0;border-color:rgba(226,232,240,var(--border-opacity))}.border-dark-border{--border-opacity:1;border-color:#718096;border-color:rgba(113,128,150,var(--border-opacity))}.dark-mode .dark\:border-gray-800{--border-opacity:1;border-color:#2d3748;border-color:rgba(45,55,72,var(--border-opacity))}.dark-mode .dark\:border-dark-border{--border-opacity:1;border-color:#718096;border-color:rgba(113,128,150,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-md{border-radius:.375rem}.rounded-full{border-radius:9999px}.rounded-t-none{border-top-left-radius:0;border-top-right-radius:0}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.border-0{border-width:0}.border{border-width:1px}.border-b-2{border-bottom-width:2px}.border-l-4{border-left-width:4px}.border-t{border-top-width:1px}.cursor-pointer{cursor:pointer}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.hidden{display:none}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.content-center{align-content:center}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.flex-1{flex:1 1 0%}.flex-grow{flex-grow:1}.flex-shrink-0{flex-shrink:0}.font-mono{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}.font-medium{font-weight:500}.font-semibold{font-weight:600}.font-bold{font-weight:700}.font-black{font-weight:900}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-16{height:4rem}.h-full{height:100%}.text-xs{font-size:.75rem}.text-sm{font-size:.875rem}.text-lg{font-size:1.125rem}.text-2xl{font-size:1.5rem}.text-3xl{font-size:1.875rem}.text-4xl{font-size:2.25rem}.text-6xl{font-size:4rem}.text-ss{font-size:.666666rem}.leading-none{line-height:1}.leading-tight{line-height:1.25}.leading-normal{line-height:1.5}.leading-relaxed{line-height:1.625}.m-0{margin:0}.m-auto{margin:auto}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.my-10{margin-top:2.5rem;margin-bottom:2.5rem}.mx-auto{margin-left:auto;margin-right:auto}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.mt-4{margin-top:1rem}.mr-4{margin-right:1rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mt-6{margin-top:1.5rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mt-10{margin-top:2.5rem}.mt-12{margin-top:3rem}.mt-px{margin-top:1px}.-mr-4{margin-right:-1rem}.-ml-4{margin-left:-1rem}.max-h-full{max-height:100%}.max-w-full{max-width:100%}.min-h-screen{min-height:100vh}.opacity-0{opacity:0}.focus\:outline-none:focus,.outline-none{outline:2px solid transparent;outline-offset:2px}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.p-3{padding:.75rem}.p-4{padding:1rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.pt-1{padding-top:.25rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pr-4{padding-right:1rem}.pb-4{padding-bottom:1rem}.pl-6{padding-left:1.5rem}.pr-8{padding-right:2rem}.pb-8{padding-bottom:2rem}.pt-10{padding-top:2.5rem}.pt-16{padding-top:4rem}.pb-16{padding-bottom:4rem}.static{position:static}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.left-0{left:0}.shadow{box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)}.shadow-none{box-shadow:none}.shadow-nuxt{box-shadow:0 0 8px rgba(0,0,0,.101562)}.shadow-reverse{box-shadow:0 -2px 4px 0 rgba(0,0,0,.05)}.fill-current{fill:currentColor}.fill-nuxt-lightgreen{fill:#00c58e}.fill-nuxt-green{fill:#108775}.text-center{text-align:center}.text-right{text-align:right}.text-white{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.text-gray-300{--text-opacity:1;color:#e2e8f0;color:rgba(226,232,240,var(--text-opacity))}.text-gray-400{--text-opacity:1;color:#cbd5e0;color:rgba(203,213,224,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))}.text-nuxt-gray{--text-opacity:1;color:#2f495e;color:rgba(47,73,94,var(--text-opacity))}.text-nuxt-lightgreen{--text-opacity:1;color:#00c58e;color:rgba(0,197,142,var(--text-opacity))}.text-nuxt-green{--text-opacity:1;color:#108775;color:rgba(16,135,117,var(--text-opacity))}.text-primary-base{--text-opacity:1;color:#00c58e;color:rgba(0,197,142,var(--text-opacity))}.text-light-onSurfacePrimary{--text-opacity:1;color:#2f495e;color:rgba(47,73,94,var(--text-opacity))}.text-light-onSurfaceSecondary{--text-opacity:1;color:#606f7b;color:rgba(96,111,123,var(--text-opacity))}.text-light-elevatedSurface{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.hover\:text-nuxt-lightgreen:hover{--text-opacity:1;color:#00c58e;color:rgba(0,197,142,var(--text-opacity))}.dark-mode .dark\:text-white{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.dark-mode .dark\:text-dark-surface{--text-opacity:1;color:#2c3e50;color:rgba(44,62,80,var(--text-opacity))}.dark-mode .dark\:text-dark-onSurfacePrimary{--text-opacity:1;color:#f5f7fa;color:rgba(245,247,250,var(--text-opacity))}.dark-mode .dark\:text-dark-onSurfaceSecondary{--text-opacity:1;color:#b8c2cc;color:rgba(184,194,204,var(--text-opacity))}.dark-mode .dark\:text-dark-elevatedSurface,.light-mode .light\:text-light-onSurfacePrimary{--text-opacity:1;color:#2f495e;color:rgba(47,73,94,var(--text-opacity))}.light-mode .light\:text-light-onSurfaceSecondary{--text-opacity:1;color:#606f7b;color:rgba(96,111,123,var(--text-opacity))}.dark-mode .dark\:hover\:text-nuxt-lightgreen:hover,.light-mode .light\:hover\:text-nuxt-lightgreen:hover{--text-opacity:1;color:#00c58e;color:rgba(0,197,142,var(--text-opacity))}.uppercase{text-transform:uppercase}.hover\:underline:hover,.underline{text-decoration:underline}.tracking-wider{letter-spacing:.05em}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-2\/3{width:66.666667%}.w-full{width:100%}.z-10{z-index:10}.z-30{z-index:30}.transform{--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y))}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform}.transition-colors{transition-property:background-color,border-color,color,fill,stroke}.transition-opacity{transition-property:opacity}.ease-linear{transition-timing-function:linear}.duration-150{transition-duration:.15s}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}@-webkit-keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@media (min-width:640px){.sm\:container{width:100%}}@media (min-width:640px) and (min-width:640px){.sm\:container{max-width:640px}}@media (min-width:640px) and (min-width:768px){.sm\:container{max-width:768px}}@media (min-width:640px) and (min-width:1024px){.sm\:container{max-width:1024px}}@media (min-width:640px) and (min-width:1280px){.sm\:container{max-width:1280px}}@media (min-width:640px){.sm\:block{display:block}.sm\:flex-row{flex-direction:row}.sm\:mb-0{margin-bottom:0}.sm\:p-0{padding:0}.sm\:p-8{padding:2rem}.sm\:py-10{padding-top:2.5rem;padding-bottom:2.5rem}.sm\:text-left{text-align:left}.sm\:text-center{text-align:center}.sm\:text-right{text-align:right}.sm\:w-auto{width:auto}}@media (min-width:768px){.md\:container{width:100%}}@media (min-width:768px) and (min-width:640px){.md\:container{max-width:640px}}@media (min-width:768px) and (min-width:768px){.md\:container{max-width:768px}}@media (min-width:768px) and (min-width:1024px){.md\:container{max-width:1024px}}@media (min-width:768px) and (min-width:1280px){.md\:container{max-width:1280px}}@media (min-width:768px){.md\:text-3xl{font-size:1.875rem}}@media (min-width:1024px){.lg\:container{width:100%}}@media (min-width:1024px) and (min-width:640px){.lg\:container{max-width:640px}}@media (min-width:1024px) and (min-width:768px){.lg\:container{max-width:768px}}@media (min-width:1024px) and (min-width:1024px){.lg\:container{max-width:1024px}}@media (min-width:1024px) and (min-width:1280px){.lg\:container{max-width:1280px}}@media (min-width:1024px){.lg\:border-t{border-top-width:1px}.lg\:block{display:block}.lg\:inline-block{display:inline-block}.lg\:flex-row{flex-direction:row}.lg\:h-24{height:6rem}.lg\:mx-0{margin-left:0;margin-right:0}.lg\:mb-0{margin-bottom:0}.lg\:-mt-8{margin-top:-2rem}.lg\:max-w-4xl{max-width:56rem}.lg\:p-4{padding:1rem}.lg\:py-6{padding-top:1.5rem;padding-bottom:1.5rem}.lg\:pb-0{padding-bottom:0}.lg\:pt-4{padding-top:1rem}.lg\:text-left{text-align:left}.lg\:w-auto{width:auto}.lg\:w-1\/3{width:33.333333%}.lg\:w-2\/3{width:66.666667%}.lg\:w-5\/12{width:41.666667%}.lg\:w-6\/12{width:50%}}@media (min-width:1280px){.xl\:container{width:100%}}@media (min-width:1280px) and (min-width:640px){.xl\:container{max-width:640px}}@media (min-width:1280px) and (min-width:768px){.xl\:container{max-width:768px}}@media (min-width:1280px) and (min-width:1024px){.xl\:container{max-width:1024px}}@media (min-width:1280px) and (min-width:1280px){.xl\:container{max-width:1280px}}@media (min-width:1280px){.xl\:text-lg{font-size:1.125rem}.xl\:text-4xl{font-size:2.25rem}}.dark-mode .light-img{display:none}.dark-mode .dark-img,.light-mode .light-img{display:block}.light-mode .dark-img{display:none}.nuxt-content img{border-radius:.25rem;margin:auto}.nuxt-content video{width:100%}.nuxt-content code{padding:.25rem;font-style:normal;border-radius:.25rem;font-size:.875rem}.nuxt-content h2{position:relative;font-size:1.5rem;display:table;margin-top:2rem;margin-bottom:2rem}.nuxt-content h2:after{content:" ";width:80%;display:block;--border-opacity:1;margin-top:.5rem;margin-bottom:.25rem;border-radius:.25rem;border:2px solid #108775;border-color:rgba(16,135,117,var(--border-opacity))}.nuxt-content h2 code{font-size:1.25rem}.nuxt-content h2 a.icon-link{padding-top:.75rem}.nuxt-content h3{position:relative;font-size:1.25rem;display:table;margin-top:2rem;margin-bottom:2rem}.nuxt-content h3:after{content:" ";width:80%;display:block;--border-opacity:1;margin-top:.5rem;margin-bottom:.25rem;border-radius:.25rem;border:2px solid #718096;border-color:rgba(113,128,150,var(--border-opacity))}.nuxt-content h3 code{font-size:1.125rem}.nuxt-content h3 a.icon{padding-top:.5rem}.nuxt-content a{word-wrap:break-word}.nuxt-content a:hover{text-decoration:underline}.nuxt-content h2 a,.nuxt-content h3 a,.nuxt-content h4 a,.nuxt-content h5 a,.nuxt-content h6 a{margin:0 -1.5rem;padding:0 1.5rem 1.7rem 0}.nuxt-content h2 .icon-link,.nuxt-content h2 a,.nuxt-content h3 .icon-link,.nuxt-content h3 a,.nuxt-content h4 .icon-link,.nuxt-content h4 a,.nuxt-content h5 .icon-link,.nuxt-content h5 a,.nuxt-content h6 .icon-link,.nuxt-content h6 a{float:left;display:inline-block;height:14px;margin-top:8px;position:relative;width:14px}.nuxt-content h2 .icon-link .icon-link,.nuxt-content h2 a .icon-link,.nuxt-content h3 .icon-link .icon-link,.nuxt-content h3 a .icon-link,.nuxt-content h4 .icon-link .icon-link,.nuxt-content h4 a .icon-link,.nuxt-content h5 .icon-link .icon-link,.nuxt-content h5 a .icon-link,.nuxt-content h6 .icon-link .icon-link,.nuxt-content h6 a .icon-link{background-image:url(/_nuxt/6c59b9907d19e9665455acbfcb710b53.svg);background-size:14px 14px;visibility:hidden}.nuxt-content h2:hover .icon-link,.nuxt-content h3:hover .icon-link,.nuxt-content h4:hover .icon-link,.nuxt-content h5:hover .icon-link,.nuxt-content h6:hover .icon-link{visibility:visible}.nuxt-content p{line-height:1.625;padding-top:.25rem;padding-bottom:.25rem;margin-bottom:.5rem;transition-property:background-color,border-color,color,fill,stroke;transition-duration:.3s;transition-timing-function:linear}.nuxt-content li p{display:inline-block}.nuxt-content blockquote{font-style:italic;line-height:2}.nuxt-content pre{border-radius:.25rem;padding:.5rem;margin-top:.5rem;margin-bottom:.5rem;overflow:auto}.nuxt-content pre code{background-color:transparent;padding:0}.nuxt-content b,.nuxt-content strong{font-weight:700}.nuxt-content ol{list-style-type:decimal}.nuxt-content ul{list-style-type:disc}.nuxt-content ol,.nuxt-content ul{list-style-position:inside;padding-top:.25rem;padding-bottom:.25rem;padding-left:.25rem}.nuxt-content ol li,.nuxt-content ul li{padding-top:.5rem;padding-bottom:.5rem}.nuxt-content ol ol,.nuxt-content ol ul,.nuxt-content ul ol,.nuxt-content ul ul{padding-left:1rem;padding-top:.25rem}.nuxt-content-highlight{position:relative}.nuxt-content-highlight>.filename{top:0;color:#cbd5e0;color:rgba(203,213,224,var(--text-opacity));font-weight:300;z-index:10;margin-top:.25rem}.nuxt-content-highlight>.copy,.nuxt-content-highlight>.filename{position:absolute;right:0;--text-opacity:1;margin-right:.5rem;font-size:.875rem}.nuxt-content-highlight>.copy{display:none;bottom:0;line-height:1;box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);padding:.25rem;color:#fff;color:rgba(255,255,255,var(--text-opacity));--bg-opacity:1;background-color:#2d3748;background-color:rgba(45,55,72,var(--bg-opacity));text-transform:uppercase;border-radius:.375rem;border-width:1px;--border-opacity:1;border-color:#fff;border-color:rgba(255,255,255,var(--border-opacity));font-weight:600;margin-bottom:.5rem}.nuxt-content-highlight>.copy:hover{--bg-opacity:1;background-color:#4a5568;background-color:rgba(74,85,104,var(--bg-opacity))}.nuxt-content-highlight>.copy:focus{outline:2px solid transparent;outline-offset:2px;--bg-opacity:1;background-color:#1a202c;background-color:rgba(26,32,44,var(--bg-opacity))}.nuxt-content-highlight:hover>.copy{display:block}.dark-mode .nuxt-content h2,.dark-mode .nuxt-content h3,.dark-mode .nuxt-content p{color:#f5f7fa}.dark-mode .nuxt-content blockquote{color:#b8c2cc}.dark-mode .nuxt-content code{--bg-opacity:1;background-color:#2d3748;background-color:rgba(45,55,72,var(--bg-opacity));color:#e1e8f5}.dark-mode .nuxt-content pre{background-color:#1e344c}.dark-mode .nuxt-content pre code{background-color:transparent;color:#f5f7fa}.dark-mode .nuxt-content a{--text-opacity:1;color:#00c58e;color:rgba(0,197,142,var(--text-opacity))}.dark-mode .nuxt-content a:hover{text-decoration:underline}.dark-mode .nuxt-content a code{--text-opacity:1;color:#00c58e;color:rgba(0,197,142,var(--text-opacity))}.dark-mode .nuxt-content a code:hover{--text-opacity:1;color:#108775;color:rgba(16,135,117,var(--text-opacity))}.light-mode .nuxt-content h2,.light-mode .nuxt-content h3,.light-mode .nuxt-content p{color:#2f495e}.light-mode .nuxt-content blockquote{color:#606f7b}.light-mode .nuxt-content code{--bg-opacity:1;background-color:#f7fafc;background-color:rgba(247,250,252,var(--bg-opacity));--text-opacity:1;color:#f56565;color:rgba(245,101,101,var(--text-opacity))}.light-mode .nuxt-content pre{position:static;background-color:#2f495e}.light-mode .nuxt-content pre code{background-color:transparent;color:#f5f7fa}.light-mode .nuxt-content a{--text-opacity:1;color:#00c58e;color:rgba(0,197,142,var(--text-opacity))}.light-mode .nuxt-content a:hover{text-decoration:underline}.light-mode .nuxt-content a code{--text-opacity:1;color:#00c58e;color:rgba(0,197,142,var(--text-opacity))}.light-mode .nuxt-content a code:hover{--text-opacity:1;color:#108775;color:rgba(16,135,117,var(--text-opacity))}code[class*=language-],pre[class*=language-]{text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono,monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#363636}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#363636}:not(pre)>code[class*=language-]{white-space:normal;border-radius:.2em;padding:.1em}pre[class*=language-]{overflow:auto;position:relative;margin:.5em 0;padding:1.25em 1em}.language-css>code,.language-sass>code,.language-scss>code{color:#fd9170}[class*=language-] .namespace{opacity:.7}.token.atrule{color:#c792ea}.token.attr-name{color:#ffcb6b}.token.attr-value,.token.attribute{color:#c3e88d}.token.boolean{color:#c792ea}.token.builtin{color:#ffcb6b}.token.cdata,.token.char{color:#80cbc4}.token.class{color:#ffcb6b}.token.class-name,.token.color{color:#f2ff00}.token.comment{color:#546e7a}.token.constant{color:#c792ea}.token.deleted{color:#f07178}.token.doctype{color:#546e7a}.token.entity{color:#f07178}.token.function{color:#c792ea}.token.hexcode{color:#f2ff00}.token.id,.token.important{color:#c792ea;font-weight:700}.token.inserted{color:#80cbc4}.token.keyword{color:#c792ea;font-style:italic}.token.number{color:#fd9170}.token.operator{color:#89ddff}.token.prolog{color:#546e7a}.token.property{color:#80cbc4}.token.pseudo-class,.token.pseudo-element{color:#c3e88d}.token.punctuation{color:#89ddff}.token.regex{color:#f2ff00}.token.selector{color:#f07178}.token.string{color:#c3e88d}.token.symbol{color:#c792ea}.token.tag,.token.unit{color:#f07178}.token.url{color:#fd9170}.token.variable{color:#f07178}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}button[data-v-6531895e]{outline:0}.show[data-v-6531895e]{-webkit-animation:show-icon-data-v-6531895e .3s forwards;animation:show-icon-data-v-6531895e .3s forwards}.hide[data-v-6531895e]{-webkit-animation:hide-icon-data-v-6531895e .3s forwards;animation:hide-icon-data-v-6531895e .3s forwards}@-webkit-keyframes show-icon-data-v-6531895e{0%{opacity:0;transform:scaleY(0)}to{opacity:1;transform:scaleY(1)}}@keyframes show-icon-data-v-6531895e{0%{opacity:0;transform:scaleY(0)}to{opacity:1;transform:scaleY(1)}}@-webkit-keyframes hide-icon-data-v-6531895e{0%{opacity:1;transform:scaleY(1)}to{opacity:0;transform:scaleY(0)}}@keyframes hide-icon-data-v-6531895e{0%{opacity:1;transform:scaleY(1)}to{opacity:0;transform:scaleY(0)}}.from-bottom-to-bottom-enter-active[data-v-6531895e]{opacity:1;transition:opacity .1s,transform .1s cubic-bezier(.4,0,.2,1)}.from-bottom-to-bottom-enter[data-v-6531895e],.from-bottom-to-bottom-leave-active[data-v-6531895e]{opacity:0;transform:scaleY(0)}</style><link rel="preload" href="/_nuxt/static/1628624117/fr/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG/state.js" as="script"><link rel="preload" href="/_nuxt/static/1628624117/fr/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1628624117/manifest.js" as="script">
  </head>
  <body class="font-sans font-medium bg-light-surface dark:bg-dark-surface text-light-onSurfacePrimary dark:text-dark-onSurfacePrimary transition-colors duration-300 ease-linear" data-n-head="%7B%22class%22:%7B%22ssr%22:%5B%22font-sans%20font-medium%20bg-light-surface%20dark:bg-dark-surface%20text-light-onSurfacePrimary%20dark:text-dark-onSurfacePrimary%20transition-colors%20duration-300%20ease-linear%22%5D%7D%7D">
    <script data-n-head="ssr" data-hid="nuxt-color-mode-script" data-pbody="true">!function(){"use strict";var t=window,e=document,a=e.documentElement,o=["dark","light"],s=window.localStorage.getItem("nuxt-color-mode")||"light",c="system"===s?n():s,e=e.body.getAttribute("data-color-mode-forced");function r(e){e+="-mode";a.classList?a.classList.add(e):a.className+=" "+e}function l(e){return t.matchMedia("(prefers-color-scheme"+e+")")}function n(){if(t.matchMedia&&"not all"!==l("").media)for(var e of o)if(l(":"+e).matches)return e;return"light"}r(c=e?e:c),t.__NUXT_COLOR_MODE__={preference:s,value:c,getColorScheme:n,addClass:r,removeClass:function(e){e+="-mode";a.classList?a.classList.remove(e):a.className=a.className.replace(new RegExp(e,"g"),"")}}}()</script><div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="flex flex-col min-h-screen"><header class="sticky top-0 left-0 right-0 z-30 bg-light-elevatedSurface dark:bg-dark-elevatedSurface h-16 lg:h-24 transition-colors duration-300 ease-linear shadow-reverse"><div class="container relative mx-auto px-4 flex items-center justify-between lg:py-6 h-full"><div class="dark:text-white flex"><a href="https://www.linkedin.com/in/xuan-pham-718b22130" target="_blank" rel="noopener" aria-label="linkedin" class="hidden sm:block ml-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin w-6 h-6"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path> <rect x="2" y="9" width="4" height="12"></rect> <circle cx="4" cy="4" r="2"></circle></svg></a> <a href="https://www.facebook.com/only.you.381" target="_blank" rel="noopener" aria-label="twitter" class="hidden sm:block ml-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-facebook w-6 h-6"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a> <a href="https://github.com/XuanPH" target="_blank" rel="noopener" aria-label="github" class="hidden sm:block ml-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github w-6 h-6"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></div> <a href="/" class="nuxt-link-active"><img src="/reiz.png" height="100" class="h-10 max-w-full light-img"> <img src="/reiz_dark.png" height="100" class="h-10 max-w-full dark-img"><span>Bloger</span></a> <div class="flex-row flex"><div class="flex-1 flex mr-2"><button class="relative overflow-hidden px-4 flex items-center bg-gray-200 dark:bg-dark-surface dark:text-dark-onSurfaceSecondary rounded-full h-10 outline-none text-light-onSurfacePrimary dark:text-dark-onSurfacePrimary transition-colors duration-300 ease-linear" data-v-6531895e><span class="relative mr-2 overflow-hidden inline-block w-5 h-5 flex items-center justify-center" data-v-6531895e><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="hide w-5 h-5 absolute" data-v-6531895e data-v-6531895e><path fill="currentColor" d="M20.3542 15.3542L21.2821 15.7271C21.4314 15.3554 21.3446 14.9304 21.0613 14.6471C20.778 14.3639 20.353 14.277 19.9813 14.4264L20.3542 15.3542ZM8.64581 3.64587L9.57369 4.01876C9.72307 3.64704 9.6362 3.22204 9.35292 2.93877C9.06964 2.65549 8.64465 2.56861 8.27293 2.718L8.64581 3.64587ZM19.9813 14.4264C19.0613 14.7961 18.0557 15.0001 17 15.0001V17.0001C18.3155 17.0001 19.5739 16.7455 20.7271 16.2821L19.9813 14.4264ZM17 15.0001C12.5817 15.0001 9 11.4183 9 7.00006H7C7 12.5229 11.4772 17.0001 17 17.0001V15.0001ZM9 7.00006C9 5.94438 9.20396 4.93879 9.57369 4.01876L7.71794 3.27299C7.25452 4.42612 7 5.6846 7 7.00006H9ZM4 12.0001C4 8.6372 6.07526 5.75664 9.0187 4.57375L8.27293 2.718C4.59771 4.19496 2 7.79294 2 12.0001H4ZM12 20.0001C7.58172 20.0001 4 16.4183 4 12.0001H2C2 17.5229 6.47715 22.0001 12 22.0001V20.0001ZM19.4263 14.9814C18.2434 17.9248 15.3629 20.0001 12 20.0001V22.0001C16.2071 22.0001 19.8051 19.4024 21.2821 15.7271L19.4263 14.9814Z" data-v-6531895e data-v-6531895e></path></svg> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="show w-5 h-5 absolute" data-v-6531895e data-v-6531895e><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3V4M12 20V21M21 12H20M4 12H3M18.364 18.364L17.6569 17.6569M6.34315 6.34315L5.63604 5.63604M18.364 5.63609L17.6569 6.3432M6.3432 17.6569L5.63609 18.364M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" data-v-6531895e data-v-6531895e></path></svg></span> <span class="inline-block font-medium mr-1" data-v-6531895e data-v-6531895e>
      Lumière
    </span></button></div> <div class="flex-1 text-right"><div value="fr" options="[object Object],[object Object],[object Object]" class="nui-select text-nuxt-gray bg-gray-200 dark:bg-dark-surface dark:text-dark-onSurfaceSecondary inline-block rounded-full transition-colors duration-300 ease-linear"><div class="flex items-center content-center px-4"><div class="-mr-4"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="fill-current"><path fill-rule="nonzero" d="M8 0C3.58064516 0 0 3.58064516 0 8c0 4.4193548 3.58064516 8 8 8 4.4193548 0 8-3.5806452 8-8 0-4.41935484-3.5806452-8-8-8zm6.2322581 4.90322581h-2.6612904c-.2903225-1.43225807-.7774193-2.65161291-1.3935483-3.51935484 1.7741935.58709677 3.232258 1.86774193 4.0548387 3.51935484zM10.8387097 8c0 .73870968-.0516129 1.42580645-.1387097 2.0645161H5.3C5.21290323 9.42580645 5.16129032 8.73870968 5.16129032 8c0-.73870968.05161291-1.42580645.13870968-2.06451613h5.4c.0870968.63870968.1387097 1.32580645.1387097 2.06451613zM8 1.03225806c.86774194 0 1.98064516 1.42258065 2.5193548 3.87096775H5.48064516C6.01935484 2.45483871 7.13225806 1.03225806 8 1.03225806zm-2.17741935.35161291c-.61290323.86451613-1.10322581 2.08387097-1.39354839 3.51935484H1.76774194C2.59032258 3.2516129 4.0483871 1.97096774 5.82258065 1.38387097zM1.03225806 8c0-.71935484.10967742-1.41290323.31290323-2.06451613h2.91935484C4.18064516 6.59677419 4.12903226 7.28387097 4.12903226 8c0 .71612903.04838709 1.40322581.13548387 2.0645161H1.34516129C1.14193548 9.41290323 1.03225806 8.71935484 1.03225806 8zm.73548388 3.0967742h2.66129032c.29032258 1.4322581.77741935 2.6516129 1.39354839 3.5193548-1.77419355-.5870967-3.23225807-1.8677419-4.05483871-3.5193548zM8 14.9677419c-.86774194 0-1.98064516-1.4225806-2.51935484-3.8709677h5.03870964C9.98064516 13.5451613 8.86774194 14.9677419 8 14.9677419zm2.1774194-.3516129c.6129032-.8645161 1.1032258-2.0838709 1.3935483-3.5193548h2.6612904c-.8225807 1.6516129-2.2806452 2.9322581-4.0548387 3.5193548zm1.5580645-4.5516129c.0838709-.66129029.1354838-1.34838707.1354838-2.0645161s-.0483871-1.40322581-.1354838-2.06451613h2.9193548c.2032258.6516129.3129032 1.34516129.3129032 2.06451613 0 .71935484-.1096774 1.41290323-.3129032 2.0645161h-2.9193548z"></path></svg></div> <select value="fr" class="bg-transparent cursor-pointer font-medium h-10 appearance-none focus:outline-none pl-6 pr-8 z-10"><option value="fr" class="dark:text-dark-surface">
        Français
      </option><option value="en" class="dark:text-dark-surface">
        English
      </option><option value="vi" class="dark:text-dark-surface">
        Tiếng việt
      </option></select> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="8" class="fill-current -ml-4"><path fill-rule="evenodd" d="M6.35416667 7.825L.1875 1.70833333C-.00833333 1.5125-.00833333 1.19583333.1875 1l.825-.825c.19583333-.19583333.5125-.19583333.70833333 0l4.9875 4.9375L11.6958333.175c.1958334-.19583333.5125-.19583333.7083334 0l.825.825c.1958333.19583333.1958333.5125 0 .70833333L7.0625 7.825c-.19583333.19583333-.5125.19583333-.70833333 0z"></path></svg></div></div></div></div></div></header> <div class="flex-grow pb-16 bg-light-elevatedSurface dark:bg-dark-elevatedSurface"><div class="container lg:max-w-4xl mx-auto p-4 pb-8"><a href="/fr" class="inline-flex items-center dark:hover:text-nuxt-lightgreen light:hover:text-nuxt-lightgreen dark:text-dark-onSurfaceSecondary light:text-light-onSurfaceSecondary nuxt-link-active"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-icon="long-arrow-left" data-prefix="fad" focusable="false" role="img" viewBox="0 0 448 512" class="svg-inline--fa fa-long-arrow-left fa-w-14 h-5 mr-2"><g class="fa-group"><path fill="currentColor" d="M128.09 220H424a24 24 0 0 1 24 24v24a24 24 0 0 1-24 24H128.09l-35.66-36z" opacity=".4" class="fa-secondary"></path><path fill="currentColor" d="M142.56 409L7 273.5v-.06a25.23 25.23 0 0 1 0-34.84l.06-.06 135.5-135.49a24 24 0 0 1 33.94 0l17 17a24 24 0 0 1 0 33.94L92.43 256 193.5 358a24 24 0 0 1 0 33.94l-17 17a24 24 0 0 1-33.94.06z" class="fa-primary"></path></g></svg> Trở lại danh sách
</a> <article><header class="flex items-left justify-between flex-col mt-12"><div class="flex flex-1 flex-col mb-8"><h1 class="text-4xl font-semibold mb-4 leading-tight">
        Nhật ký làm hệ thống getLink vip Fshare trong 48h
      </h1> <div class="text-sm flex justify-between flex-col sm:flex-row"><div><a href="https://viblo.asia/u/tungtv" target="_blank" rel="noopener" class="inline-flex items-center hover:text-nuxt-lightgreen transition ease-linear duration-150"><img src="https://images.viblo.asia/avatar/c75c5b15-b33b-4822-9bca-38a08e13f766.jpg" alt="Tran Van Tung" class="inline-block h-6 w-6 rounded-full"> <span class="mx-2 last:mr-0">Tran Van Tung</span></a></div> <div class="mt-1 dark:text-dark-onSurfaceSecondary light:text-light-onSurfaceSecondary">
          2021 M08 8
          <span class="text-xs mx-1">•</span>
          11 min read
        </div></div></div> <!----></header> <div>

    Link bài viết gốc: <a href="https://viblo.asia/p/nhat-ky-hoc-ci-cd-bat-dau-tu-droneio-gDVK2wxvZLj" target="_blank" class="inline-flex items-center dark:hover:text-nuxt-lightgreen light:hover:text-nuxt-lightgreen dark:text-dark-onSurfaceSecondary light:text-light-onSurfaceSecondary">Nhật ký làm hệ thống getLink vip Fshare trong 48h</a></div> <div class="mt-12"><div class="nuxt-content"><p>Nhật ký ngày tháng năm...</p>
<p>Vào một ngày đẹp trời, mình thấy các website cung cấp dịch vụ <code>getlink VIP fshare</code> đồng loạt thông báo lỗi, không thể
getlink VIP download <code>maxbandwith</code>. Và mình cũng thấy rất nhiều bài viết mới được tạo trong 1 group (chuyên chia sẻ về
IT), về việc sharing Fcode (fshare code) mà họ mới mua, và không dùng hết. Các <code>fcode</code> thì có hạn về số lượng, và thời
gian sử dụng.</p>
<p>Điều đó làm mình lóe lên suy nghĩ về việc tự làm 1 website getLink VIP. Và <code>Fshare</code> là dịch vụ mình sẽ thử nghiệm.</p>
<p>// (Nếu có điều kiện, bạn hãy trả fee cho fshare để có thể sử dụng dịch vụ tốt hơn)</p>
<h2 id="1-ý-tưởng-thiết-kế-ban-đầu"><a href="#1-%C3%BD-t%C6%B0%E1%BB%9Fng-thi%E1%BA%BFt-k%E1%BA%BF-ban-%C4%91%E1%BA%A7u" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>1. Ý tưởng thiết kế ban đầu</h2>
<p>Fshare là 1 hệ thống cung cấp dịch vụ lưu trữ file nổi tiếng. Và để download file với tốc độ max băng thông, thì bạn cần
có tài khoản VIP. Và để có tài khoản VIP thì bạn sẽ phải trả phí. Và theo <code>policy</code> của fshare thì 1 tài khoản VIP sẽ
không bị giới hạn lượt tải, và băng thông tải.</p>
<p>=> Mình sẽ làm 1 website mà client sẽ điền form chứa URL tới file cần download. Sau đó server backend sẽ sử dụng tài
khoản VIP của mình, request fshare để lấy link download, rồi trả về cho client.</p>
<ul>
<li><strong>Trở ngại 1...</strong></li>
</ul>
<p>Không thể làm như vậy được, vì fshare có cơ chế là chỉ địa chỉ IP nào request link download, thì chỉ địa chỉ IP đó mới
có thể download được. Trong url download mà fshare trả về, đã được <code>signed</code> (link download có truyền thêm các parameter
để validate), mình "đoán" một trong các param để signed, có <code>IP address</code> của client.</p>
<p>=> Nếu việc request link không diễn ra ở backend service, thì mình sẽ làm nó ở frontend.</p>
<ul>
<li><strong>Trở ngại 2...</strong></li>
</ul>
<p>Việc để client (frontend) tự động trực tiếp request link với fshare, làm mình lo lắng về việc bảo mật tài khoản VIP của
mình. Mình không muốn client có được bất cứ thông tin gì nhạy cảm về tài khoản VIP. Hơn nữa, mình cũng đã thử nghiệm,
khá phức tạp để <code>CORS</code> tới fshare (sử dụng <code>ajax</code> call chéo tới 1 domain khác domain đang chạy). Mình đã debug việc
<code>cors</code> fshare bằng cách f12 của web browser. Và mình thấy fshare vẫn chấp nhận <code>cors</code>, nhưng nó quá phức tạp, khó
control.</p>
<p>=> Với 2 lý do trên, mình quyết định bỏ cách này. Và quay lại với cách đầu tiên. Get link ở phía backend server. Tuy
nhiên, sau khi link download được tạo ra, trả cho client. Mình sẽ cung cấp luôn 1 đường proxy, có nhiệm vụ forward
traffic download từ client tới server backend của mình, sau đó mới tới fshare.</p>
<ul>
<li><strong>Trở ngại 3...</strong></li>
</ul>
<p>Cách này cũng không hoàn hảo, vì việc forward traffic sẽ rất dễ gây <code>bottleneck</code> (nghẽn cổ chai) tại server của mình.
Tuy nhiên server mà mình đang có, theo quảng cáo là bandwith lên tới 10Gbps. Mình không chắc chắn về performance khi số
lượng client sử dụng lên nhiều, nhưng đó sẽ là 1 bài toán ở lĩnh vực khác. Nên mình vẫn quyết định triển theo hướng này.</p>
<h2 id="2-lựa-chọn-tech-stack-vòng-1"><a href="#2-l%E1%BB%B1a-ch%E1%BB%8Dn-tech-stack-v%C3%B2ng-1" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>2. Lựa chọn tech stack vòng 1</h2>
<ul>
<li>Java vs Spring Framework (Springboot, Spring webservice...): java là ngôn ngữ mình dùng nhiều nhất, và Spring là 1
framework nổi tiếng. Nên mình dùng nó làm phía backend.</li>
<li>Frontend: html + css + jquery + ajax. Mình sẽ dùng ajax để call api tới server backend.</li>
</ul>
<h2 id="3-đi-tìm-cách-kết-nối-với-fshare"><a href="#3-%C4%91i-t%C3%ACm-c%C3%A1ch-k%E1%BA%BFt-n%E1%BB%91i-v%E1%BB%9Bi-fshare" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>3. Đi tìm cách kết nối với fshare</h2>
<p>Mình đã google, nhưng không thấy fshare có 1 document nào nói về việc <code>public</code> API cho các developer.</p>
<p>Mình lại bắt đầu suy nghĩ lại về việc debug f12 web browser <code>fshare.vn</code> để tìm format cho httpClient.</p>
<p>Thật may mắn, sau đó mình search trên <code>github</code> thì lại thấy có repo về getLink fshare.
Đó là repo này: <a href="https://github.com/tudoanh/get_fshare" rel="nofollow noopener noreferrer" target="_blank">https://github.com/tudoanh/get_fshare</a> (dùng python)</p>
<p>Để chắc chắn API trong repo đúng, mình dùng phần mềm <code>PostMan</code> để test lại. Và kết quả các API vẫn tốt.</p>
<p>Cơ bản có 2 API:</p>
<ol>
<li>Sử dụng <code>user_email</code> + <code>password</code> trên fshare, để lấy <code>session_id</code> và <code>token</code></li>
</ol>
<ul>
<li>Request example:</li>
</ul>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code><span class="token function">curl</span> --location --request POST <span class="token string">'https://api.fshare.vn/api/user/login'</span> <span class="token punctuation">\</span>
--header <span class="token string">'Content-Type: application/json'</span> <span class="token punctuation">\</span>
--data-raw <span class="token string">'{
"user_email": "[email protected]",
"password": "passWord",
"app_key": "L2S7R6ZMagggC5wWkQhX2+aDi467PPuftWUMRFSn"
}
'</span>

</code></pre></div>
<ul>
<li>Response example:</li>
</ul>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">"code"</span><span class="token builtin class-name">:</span> <span class="token number">200</span>,
    <span class="token string">"msg"</span><span class="token builtin class-name">:</span> <span class="token string">"Login successfully!"</span>,
    <span class="token string">"token"</span><span class="token builtin class-name">:</span> <span class="token string">"483f5bb8ab3812070f95b2f52d0ff5645a4f4"</span>,
    <span class="token string">"session_id"</span><span class="token builtin class-name">:</span> <span class="token string">"f35jj7d0q5v91dt6b4r3vns"</span>
<span class="token punctuation">}</span>

</code></pre></div>
<ol start="2">
<li>Sử dụng <code>token</code> để request link download</li>
</ol>
<ul>
<li>Request example:</li>
</ul>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code><span class="token function">curl</span> --location --request POST <span class="token string">'https://api.fshare.vn/api/session/download'</span> <span class="token punctuation">\</span>
--header <span class="token string">'Content-Type: application/json'</span> <span class="token punctuation">\</span>
--data-raw <span class="token string">'{
"token": "483f5bb8ab3812070f95b2f52d0ff5645a4f4",
"url": "https://www.fshare.vn/file/VG8998AQNPB"
}'</span>

</code></pre></div>
<ul>
<li>Response example:</li>
</ul>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">"location"</span><span class="token builtin class-name">:</span>
    <span class="token string">"http://download022.fshare.vn/dl/g1igLGM7IScOwdkwo3iwyPmJPDJk1roRViiVDbNszLZwk4k2xb-6TogmIK9Rjxq4y+Ggl2V0Z/ipz0g78hhb.wmv"</span>
<span class="token punctuation">}</span>

</code></pre></div>
<p>// Các example trên mình export từ Postman. Mình đã dùng <code>Postman</code> thì thấy luôn ok. Nhưng không hiểu sao khi dùng
<code>curl</code> lại lỗi. Khá khó hiểu. Hơn nữa, lại chỉ thấy sử dụng <code>token</code> chứ không thấy ở đâu sử dụng <code>session_id</code>. Về sau
khi mình convert sang code Java, thì request thứ 2 luôn báo lỗi là "chưa đăng nhập". Sau đó mình phát hiện ra, trong
request thứ 2, mình phải truyền thêm <code>header</code> chứa <code>Cookie</code>, trong đó giá trị <code>Cookie</code> có <code>session_id</code> thì mới pass.</p>
<h2 id="4-lựa-chọn-tech-stack-vòng-2"><a href="#4-l%E1%BB%B1a-ch%E1%BB%8Dn-tech-stack-v%C3%B2ng-2" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>4. Lựa chọn tech stack vòng 2</h2>
<h3 id="41-lựa-chọn"><a href="#41-l%E1%BB%B1a-ch%E1%BB%8Dn" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>4.1 Lựa chọn</h3>
<p>Việc dựng project <code>spring boot</code> có backend và frontend trong 1 repo khá nhanh.</p>
<ul>
<li>Combo Spring framework</li>
<li>Để call tới API của fshare, cần 1 httpClient. Ban đầu mình định sử dụng <code>FeignClient</code>, code của nó khá ngắn. Tuy nhiên mình đã gặp khó khăn trong việc debug lỗi với fshare. Nên mình quyết định quay lại sử dụng <code>RestTemplate</code> của Spring.</li>
<li>Ngay khi code <code>application</code> được run, mình cần phải lấy giá trị của <code>session_id</code>, <code>token</code> và lưu vào biến <code>static</code>.
Mình sử dụng <code>CommandLineRunner</code>.</li>
<li>Mình phát hiện ra <code>session_id</code> + <code>token</code> chỉ sử dụng được trong 1 khoảng thời gian nhất định, có lẽ đây là chính sách
của fshare. Vì vậy mình sử dụng thêm <code>Spring Scheduled</code> để hẹn giờ call API <code>rotation/ refresh</code> lại giá trị token +
session_id mới.</li>
<li>Việc client gửi form request lấy link download, và việc server request fshare, nên được chạy bất đồng bộ. Và vì bất
đồng bộ, nên mình sử dụng <code>Spring Websocket</code> (spring-boot-starter-websocket) để làm 1 kênh gửi kết quả về cho client,
sau khi Server run task lấy link download xong. Việc bất đồng bộ này cũng góp phần làm cho website của mình trở nên thân
thiện hơn.</li>
<li>Mình sử dụng <code>ThreadPoolTaskExecutor/TaskExecutor</code> của Spring, để tạo task cho mỗi request get link. (chạy multi
thread)</li>
<li>Phía client, mình sử dụng <code>sockjs-client</code> + <code>stomp-websocket</code> để subscribe kênh socket. (subcribe để khi Server chạy
task getlink xong, sẽ show kết quả ra phía frontend, mà không phải refresh page). Với mỗi phiên request client, mình sẽ
sinh ra 1 topic socket mới. Mục đích để ID. Mình khá lo lắng về việc này sẽ dẫn tới performance của hệ thống giảm xuống
nhiều.</li>
</ul>
<h3 id="42-quick-code"><a href="#42-quick-code" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>4.2 Quick code</h3>
<ul>
<li>Spring RestTemplate</li>
</ul>
<div class="nuxt-content-highlight"><pre class="line-numbers language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LoginRequest</span> loginRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LoginRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    loginRequest<span class="token punctuation">.</span><span class="token function">setUser_email</span><span class="token punctuation">(</span>userMail<span class="token punctuation">)</span><span class="token punctuation">;</span>
    loginRequest<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    loginRequest<span class="token punctuation">.</span><span class="token function">setApp_key</span><span class="token punctuation">(</span>appKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">RestTemplate</span> restTemplate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LoginResponse</span> loginResponse <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">postForObject</span><span class="token punctuation">(</span><span class="token class-name">Const</span><span class="token punctuation">.</span>FSHARE_ENDPOINT_LOGIN<span class="token punctuation">,</span> loginRequest<span class="token punctuation">,</span>
    <span class="token class-name">LoginResponse</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span> loginResponse <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token class-name">Const</span><span class="token punctuation">.</span>FSHARE_SESSION_ID <span class="token operator">=</span> loginResponse<span class="token punctuation">.</span><span class="token function">getSession_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Const</span><span class="token punctuation">.</span>FSHARE_TOKEN <span class="token operator">=</span> loginResponse<span class="token punctuation">.</span><span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div>
<ul>
<li>CommandLineRunner</li>
</ul>
<div class="nuxt-content-highlight"><pre class="line-numbers language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetToken</span> <span class="token keyword">implements</span> <span class="token class-name">CommandLineRunner</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">FshareService</span> fshareService<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> strings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fshareService<span class="token punctuation">.</span><span class="token function">setToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div>
<ul>
<li>Spring Scheduled</li>
</ul>
<div class="nuxt-content-highlight"><pre class="line-numbers language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RefreshToken</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">FshareService</span> fshareService<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>fixedRate <span class="token operator">=</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fshareService<span class="token punctuation">.</span><span class="token function">setToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div>
<ul>
<li>Spring Websocket</li>
</ul>
<div class="nuxt-content-highlight"><pre class="line-numbers language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebSocketMessageBroker</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSocketConfig</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractWebSocketMessageBrokerConfigurer</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerStompEndpoints</span><span class="token punctuation">(</span><span class="token class-name">StompEndpointRegistry</span> stompEndpointRegistry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stompEndpointRegistry<span class="token punctuation">.</span><span class="token function">addEndpoint</span><span class="token punctuation">(</span><span class="token string">"/websocket-receive-link"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withSockJS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureMessageBroker</span><span class="token punctuation">(</span><span class="token class-name">MessageBrokerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    registry<span class="token punctuation">.</span><span class="token function">enableSimpleBroker</span><span class="token punctuation">(</span><span class="token string">"/topic"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        registry<span class="token punctuation">.</span><span class="token function">setApplicationDestinationPrefixes</span><span class="token punctuation">(</span><span class="token string">"/app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div>
<ul>
<li>ThreadPoolTaskExecutor</li>
</ul>
<div class="nuxt-content-highlight"><pre class="line-numbers language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@Primary</span>
<span class="token class-name">TaskExecutor</span> <span class="token function">taskExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ThreadPoolTaskExecutor</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadPoolTaskExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span><span class="token function">setCorePoolSize</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span><span class="token function">setMaxPoolSize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span><span class="token function">setQueueCapacity</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> t<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//</span>
<span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">TaskExecutor</span> task<span class="token punctuation">;</span>

<span class="token comment">//</span>
task<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TaskGetLink</span><span class="token punctuation">(</span>requestLink<span class="token punctuation">,</span> template<span class="token punctuation">,</span> fshareService<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div>
<ul>
<li>sockjs-client + stomp-websocket</li>
</ul>
<div class="nuxt-content-highlight"><pre class="line-numbers language-js"><code><span class="token keyword">function</span> <span class="token function">initSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">var</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SockJS</span><span class="token punctuation">(</span><span class="token string">'/websocket-receive-link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stompClient <span class="token operator">=</span> <span class="token maybe-class-name">Stomp</span><span class="token punctuation">.</span><span class="token method function property-access">over</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">;</span>
stompClient<span class="token punctuation">.</span><span class="token method function property-access">connect</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"X-Token"</span><span class="token operator">:</span> <span class="token string">"tokenvalue"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> onConnected<span class="token punctuation">,</span> onError<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">onConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
stompClient<span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="token string">"/topic/"</span> <span class="token operator">+</span> requestId<span class="token punctuation">,</span> onMessageReceived<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">onMessageReceived</span><span class="token punctuation">(</span><span class="token parameter">payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// todo some thing</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// todo some thing</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div>
<h2 id="5-trở-ngại-4"><a href="#5-tr%E1%BB%9F-ng%E1%BA%A1i-4" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>5. Trở ngại 4</h2>
<p>Việc code application về cơ bản đã hoàn thiện kha khá. Mình bắt đầu tìm solution cho việc <code>proxy traffic</code> mà mình đã
nhắc bên trên. Traffic download sẽ từ client rồi forward qua server của mình, sau đó mới tới fshare.
Mình đã google rất nhiều về cách này, nhưng khá là rối với skill hiện tại.</p>
<p>Trong lúc trầm tư suy ngẫm, mình sực nhớ ra <code>NGINX</code>, 1 thằng mà mình từng dùng, có thể làm được điều này, 1 điều mà mình
lại quên béng mất.</p>
<p>=> Ý tưởng:</p>
<p>Nôm na thì linkdownload của fshare trả về đại loại format sau</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-text"><code>http://download022.fshare.vn/dl/g1igLGM7IScOwdkwo3iwyPmJPDJk1roRViimGIL8t7VDbNxb-6TogmIK9Rjxq4y+Ggl2V0Z/ipz0g78hhb.wmv

</code></pre></div>
<p>Trong đó <code>download022.fshare.vn</code> chính là server fshare. Bây giờ mình sẽ biến nó thành <code>download022.tungexplorer.me</code> -
là địa chỉ server của mình. Và link downoad cho client là:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-text"><code>http://download022.tungexplorer.me/dl/g1igLGM7IScOwdkwo3iwyPmJPDJk1roRViimGIL8t7VDbNxb-6TogmIK9Rjxq4y+Ggl2V0Z/ipz0g78hhb.wmv

</code></pre></div>
<ul>
<li>Việc replace chuỗi String này trong java chỉ 1 nốt nhạc.</li>
<li>Cấu hình <code>Nginx</code> tham khảo:</li>
</ul>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code>server <span class="token punctuation">{</span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    server_name download03333.tungexplorer.me<span class="token punctuation">;</span>
    access_log off<span class="token punctuation">;</span>

    location / <span class="token punctuation">{</span>
        proxy_pass http://download022.fshare.vn<span class="token punctuation">;</span>
        proxy_read_timeout <span class="token number">300</span><span class="token punctuation">;</span>
        proxy_connect_timeout <span class="token number">300</span><span class="token punctuation">;</span>
        proxy_redirect off<span class="token punctuation">;</span>
        proxy_set_header X-Forwarded-Proto <span class="token variable">$scheme</span><span class="token punctuation">;</span>
        proxy_set_header Host <span class="token variable">$http_host</span><span class="token punctuation">;</span>
        proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div>
<h2 id="6-trở-ngại-5"><a href="#6-tr%E1%BB%9F-ng%E1%BA%A1i-5" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>6. Trở ngại 5</h2>
<p>Mình phát hiện ra <code>endpoint</code> mà fshare cung cấp, không chỉ có <code>download022.fshare.vn</code>, mà nó loadbalancer qua nhiều
endpoint khác nữa. Ví dụ 023, 024, 011...
Mình không thể config 1 cách bị động cho từng endpoint như vậy được.</p>
<p>=> Config với <code>regex</code> để dynamic việc route proxy.
Việc này khiến mình mất khá nhiều thời gian, vì mình không quá thành thục về việc này. Nó làm mình mất 3-4 tiếng để thử
nghiệm regex, và google debug.</p>
<p>Cuối cùng format hoạt động tốt:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code>server <span class="token punctuation">{</span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    server_name ~^<span class="token punctuation">(</span>www<span class="token punctuation">\</span>.<span class="token punctuation">)</span>?<span class="token punctuation">[</span>^.<span class="token punctuation">]</span>+.tungexplorer.me$<span class="token punctuation">;</span>
    access_log off<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$host</span> ~* ^<span class="token punctuation">(</span>www<span class="token punctuation">\</span>.<span class="token punctuation">)</span>?<span class="token punctuation">(</span><span class="token punctuation">[</span>^.<span class="token punctuation">]</span>+<span class="token punctuation">)</span>.tungexplorer.me$<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin class-name">set</span> <span class="token variable">$subdomain</span> <span class="token variable">$2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    resolver <span class="token number">8.8</span>.8.8 <span class="token assign-left variable">valid</span><span class="token operator">=</span>10s<span class="token punctuation">;</span>
    location / <span class="token punctuation">{</span>
        proxy_pass http://<span class="token variable">$subdomain</span>.fshare.vn<span class="token punctuation">;</span>
        proxy_read_timeout <span class="token number">300</span><span class="token punctuation">;</span>
        proxy_connect_timeout <span class="token number">300</span><span class="token punctuation">;</span>
        proxy_redirect off<span class="token punctuation">;</span>
        
        proxy_set_header X-Forwarded-Proto <span class="token variable">$scheme</span><span class="token punctuation">;</span>
        proxy_set_header Host <span class="token variable">$http_host</span><span class="token punctuation">;</span>
        proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div>
<h2 id="7-lựa-chọn-tech-stack-vòng-3"><a href="#7-l%E1%BB%B1a-ch%E1%BB%8Dn-tech-stack-v%C3%B2ng-3" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>7. Lựa chọn tech stack vòng 3</h2>
<p>Về cơ bản hệ thống đã hoạt động gần như ý mình muốn. Tuy nhiên mình muốn làm 2 việc nữa:</p>
<ol>
<li>Control limit bandwith cho mỗi lượt download. Tuy server mình có đường truyền tới 10Gbps, tuy nhiên mình muốn mỗi
lượt download, chỉ có tốc độ giới hạn là XXX <code>Mbps</code>. => NGINX Plus cung cấp tính năng này, tuy nhiên giá Nginx Plus khá
đắt. $25000 / năm. => tới thời điểm hiện tại mình vẫn bỏ ngỏ bài toán này.</li>
<li>Mình cần 1 hệ thống monitor webserver của mình, mình muốn theo dõi là hiện tại đang có bao nhiêu lượt download, tổng
traffic trên các cổng mạng đang là bao nhiêu, tài nguyên cpu, ram có đang full load không. Sau khi cân nhắc mình quyết
định sử dụng combo: <code>Prometheus + Grafana + Prometheus Exporter</code>- Prometheus server: lấy metric từ các <code>client/ device</code>
về để theo dõi.</li>
</ol>
<ul>
<li>Prometheus Exporter : client của prometheus, thu thập metric trên "client" đang chạy, để gửi về cho <code>prometheus server</code></li>
<li>Grafana: kết nối với prometheus, sau đó đồ thị hóa việc show metric cho admin, thông qua webUI.</li>
</ul>
<p>Hình ảnh chụp <code>1 Dashboard monitor traffic của Grafana</code><img alt="Grafana" src="https://tungexplorer.s3.ap-southeast-1.amazonaws.com/grafana/snmp_garafana.png"></p>
<p>Note: việc sử dụng combo <code>Prometheus + Grafana + Prometheus Exporter</code> mới đầu mình đánh giá có vẻ khá thừa thãi, thấy
khá "phức tạp hóa" vấn đề. Tuy nhiên, hệ thống này mình sẽ còn phát triển thêm nữa. Nên mình vẫn quyết định lựa chọn
dùng chúng.</p>
<h2 id="8-full-sourcecode"><a href="#8-full-sourcecode" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>8. Full SourceCode</h2>
<ul>
<li>Mình public source application tại đây:
<a href="https://github.com/tungtv202/getlink_fshare" rel="nofollow noopener noreferrer" target="_blank">https://github.com/tungtv202/getlink_fshare</a></li>
</ul></div></div> <div class="border-t border-light-border dark:border-dark-border my-10"><!----> <div class="flex flex-row flex-wrap justify-start my-10 light:text-light-onSurfaceSecondary dark:text-dark-onSurfaceSecondary"><span class="truncate uppercase tracking-wider font-medium text-ss px-2 py-1 rounded-full mr-2 mb-2 border border-light-border dark:border-dark-border transition-colors duration-300 ease-linear">
        Java
      </span><span class="truncate uppercase tracking-wider font-medium text-ss px-2 py-1 rounded-full mr-2 mb-2 border border-light-border dark:border-dark-border transition-colors duration-300 ease-linear">
        Nginx
      </span><span class="truncate uppercase tracking-wider font-medium text-ss px-2 py-1 rounded-full mr-2 mb-2 border border-light-border dark:border-dark-border transition-colors duration-300 ease-linear">
        Viblo
      </span></div></div></article> <div class="flex justify-between items-center"><!----> <!----></div> <div class="pt-4"><div class="pt-3 mt-6 border-t border-light-border dark:border-dark-border"><p class="text-light-onSurfaceSecondary dark:text-dark-onSurfaceSecondary pt-1 mb-8 transition-colors duration-300 ease-linear">
      Vous avez commis une erreur ou souhaitez contribuer à cet article de blog ?
      <a href="https://github.com/XuanPH/nuxt-content-theme-blog/blob/main/content/2021/viblo/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG.md" target="_blank" rel="noopener" class="text-primary-base hover:underline">
        Éditez cette page sur GitHub !
      </a></p></div></div></div></div> <div></div></div></div></div><script defer src="/_nuxt/static/1628624117/fr/nhat-ky-lam-he-thong-getlink-vip-fshare-trong-48h-m68Z07v6KkG/state.js"></script><script src="/_nuxt/e63116c.js" defer></script><script src="/_nuxt/47789da.js" defer></script><script src="/_nuxt/871bf3b.js" defer></script><script src="/_nuxt/f492d41.js" defer></script><script src="/_nuxt/afe0583.js" defer></script>
  </body>
</html>
