__NUXT_JSONP__("/nhat-ky-hoc-ci-cd-bat-dau-tu-droneio-gDVK2wxvZLj", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W){return {data:[{post:{slug:z,title:"Nh·∫≠t k√Ω h·ªçc CI\u002F CD b·∫Øt ƒë·∫ßu t·ª´ Drone.io",publishedAt:"2021-08-07T00:00:00.000Z",authors:[{name:"Tran Van Tung",avatarUrl:"https:\u002F\u002Fimages.viblo.asia\u002Favatar\u002Fc75c5b15-b33b-4822-9bca-38a08e13f766.jpg",link:"https:\u002F\u002Fviblo.asia\u002Fu\u002Ftungtv"}],tags:["DepOps","CI\u002FCD","Viblo"],private:false,source_post:"https:\u002F\u002Fviblo.asia\u002Fp\u002Fnhat-ky-hoc-ci-cd-bat-dau-tu-droneio-gDVK2wxvZLj",toc:[],body:{type:"root",children:[{type:b,tag:A,props:{id:"nh·∫≠t-k√Ω-ng√†y-th√°ng-nƒÉm"},children:[{type:b,tag:e,props:{href:"#nh%E1%BA%ADt-k%C3%BD-ng%C3%A0y-th%C3%A1ng-n%C4%83m",ariaHidden:B,tabIndex:C},children:[{type:b,tag:D,props:{className:[E,F]},children:[]}]},{type:a,value:"Nh·∫≠t k√Ω ng√†y th√°ng nƒÉm..."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"M√¨nh l√† m·ªôt l·∫≠p tr√¨nh vi√™n java. C·ª• th·ªÉ l√† java web. V·ª´a r·ªìi √¥ng leader c√≥ giao nhi·ªám v·ª• v·ªÅ t√¨m hi·ªÉu v·ªÅ "},{type:b,tag:e,props:{href:G,rel:[f,g,h],target:i},children:[{type:a,value:H}]},{type:a,value:". Gi·ªù ng·ªìi vi·∫øt l·∫°i v·ª´a ƒë·ªÉ report, v·ª´a ƒë·ªÉ share nh·ªØng g√¨ m√¨nh ƒë√£ t√¨m hi·ªÉu, v√† quan tr·ªçng nh·∫•t l√† ghi l·∫°i nh·ªØng kho·∫£nh kh·∫Øc ƒë√£ tr·∫£i qua =)). Th·ª±c s·ª± th√¨ ban ƒë·∫ßu m√¨nh ch·∫£ bi·∫øt c√°i v·∫πo g√¨ c·∫£. Ch·ªâ nghe lo√°ng tho√°ng l√† Drone n√≥ gi·ªëng Jenkin. M√† Jenkin l√† g√¨ c≈©ng ch·∫£ bi·∫øt lu√¥n... "},{type:b,tag:j,props:{alt:I,src:J},children:[]},{type:a,value:" So Sad ƒê·∫ßu ti√™n th√¨ c≈©ng search t·ª´ kh√≥a CI, CD tr√™n google, k·∫øt qu·∫£ ra c·∫£ ƒë·ªëng. "},{type:b,tag:e,props:{href:"http:\u002F\u002FViblo.asia",rel:[f,g,h],target:i},children:[{type:a,value:"Viblo.asia"}]},{type:a,value:" c≈©ng c√≥ v√†i b√†i. Example: "},{type:b,tag:e,props:{href:L,rel:[f,g,h],target:i},children:[{type:a,value:L}]},{type:b,tag:m,props:{},children:[]},{type:a,value:c},{type:b,tag:e,props:{href:M,rel:[f,g,h],target:i},children:[{type:a,value:M}]},{type:b,tag:m,props:{},children:[]},{type:a,value:c},{type:b,tag:e,props:{href:N,rel:[f,g,h],target:i},children:[{type:a,value:N}]},{type:b,tag:m,props:{},children:[]},{type:a,value:c},{type:b,tag:e,props:{href:O,rel:[f,g,h],target:i},children:[{type:a,value:O}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"L·ªôi h·∫øt web n√†y t·ªõi web kh√°c, th√¨ hi·ªán t·∫°i c√¥ ƒë·ªçng, ng·∫Øn g·ªçn, x√∫c t√≠ch trong ƒë·∫ßu m√¨nh \"CI CD n√≥ l√† m·ªôt t·∫≠p h·ª£p c√°c b·ªô c√¥ng c·ª•, c√≥ ch·ª©c nƒÉng kh√°c nhau, nh∆∞ng ƒë∆∞·ª£c k·∫øt h·ª£p kh√©o l√©o t√πy theo √Ω ng∆∞·ªùi qu·∫£n tr·ªã, ƒë·ªÉ x√¢y d·ª±ng l√™n m·ªôt h·ªá th·ªëng ph√°t tri·ªÉn ph·∫ßn m·ªÅm, t·ª± ƒë·ªông test, t·ª± ƒë·ªông deploy, t·ª± ƒë·ªông report... m·ªçi th·ª© tu·∫ßn t·ª± v·ªõi nhau, t·∫°o l√™n 1 quy tr√¨nh t·ª± ƒë·ªông\". Gi·∫£ s·ª≠ c√≥ t√¨nh hu·ªëng l√Ω t∆∞·ªüng nh∆∞ sau: dev ƒë·∫©y pull t·ª´ local l√™n github, v√† c√≥ 1 tools n√†o ƒë√≥ t·ª± ƒë·ªông ph√°t hi·ªán ra r·∫±ng github ƒëang c√≥ event m·ªõi...c√°i tool n√†y ph√¢n lo·∫°i ra ƒë∆∞·ª£c ƒë√¢u l√† pull request, change, commit...V√† t√πy theo m·ªói case, n√≥ s·∫Ω x·ª≠ l√Ω h√†nh ƒë·ªông ti·∫øp theo. V√≠ d·ª• nh∆∞ c√≥ commit m·ªõi, Web server t·ª± ƒë·ªông k√©o code m·ªõi v·ªÅ, t·ª± ƒë·ªông test unit c√°c ki·ªÉu, n·∫øu sucess th√¨ deploy, deploy xong th√¨ g·ª≠i mail report v·ªÅ cho ai ƒë√≥. V·∫≠y l√† g·ªìm 3 b√™n:"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:k,props:{},children:[{type:a,value:"Github"}]},{type:a,value:c},{type:b,tag:k,props:{},children:[{type:a,value:"Web server"}]},{type:a,value:c},{type:b,tag:k,props:{},children:[{type:b,tag:e,props:{href:G,rel:[f,g,h],target:i},children:[{type:a,value:H}]},{type:a,value:" ("},{type:b,tag:w,props:{},children:[{type:a,value:"l√† m·ªôt trong nh·ªØng ‚Äútool‚Äù l√†m ƒë∆∞·ª£c ƒëi·ªÅu ƒë√≥"}]},{type:a,value:")"},{type:b,tag:m,props:{},children:[]},{type:a,value:"\n=\u003E L·∫°i ti·∫øp t·ª•c google "},{type:b,tag:e,props:{href:G,rel:[f,g,h],target:i},children:[{type:a,value:H}]},{type:a,value:", k·∫øt qu·∫£ to√†n ti·∫øng Anh "},{type:b,tag:j,props:{alt:I,src:J},children:[]},{type:a,value:K},{type:b,tag:w,props:{},children:[{type:a,value:"So sad 2"}]},{type:b,tag:m,props:{},children:[]},{type:a,value:"\n=\u003E L√™n trang ch·ªß ƒë·ªçc document."},{type:b,tag:m,props:{},children:[]},{type:a,value:"\nƒê·ªçc xong th·∫•y ch√°n ch√°n, n√†o l√† vi·∫øt b·∫±ng golang, r·ªìi d·ª±a tr√™n n·ªÅn t·∫£ng docker. Bla bla‚Ä¶ Golang l√† ng√¥n ng·ªØ l·∫≠p tr√¨nh, th√¨ ch·∫Øc c≈©ng nh∆∞ Java, C, PHP... th√¥i =\u003E hi·ªÉu."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"V·∫≠y Docker? What is it? L√† d√¢n IT m·ªõi ra tr∆∞·ªùng n√™n tr∆∞·ªõc gi·ªù thi tho·∫£ng c≈©ng nghe lo√°ng tho√°ng docker c√°c ki·ªÉu r·ªìi, nh∆∞ng th·∫≠t s·ª± ch·∫£ bi·∫øt n√≥ c·ª• th·ªÉ l√† c√°i g√¨? =\u003E C√°i g√¨ kh√¥ng bi·∫øt ta tra google. Cu·ªëi c√πng l·∫°i c√¥ ƒë·ªçng v√† x√∫c t√≠ch =)) Th·ª±c s·ª± th√¨ n·∫øu gi·∫£i th√≠ch docker theo ki·ªÉu kh√°i ni·ªám nh∆∞ wikipedia th√¨ ch·∫Øc r·∫•t kh√≥ hi·ªÉu. Gi·∫£i th√≠ch theo ki·ªÉu nh·ªØng g√¨ n√≥ l√†m ƒë∆∞·ª£c c√≥ khi d·ªÖ hi·ªÉu h∆°n. V√≠ d·ª• nh∆∞ b√¢y gi·ªù 1 team, b·∫Øt ƒë·∫ßu start 1 d·ª± √°n, √¥ng n√†o c≈©ng ph·∫£i c√†i m√¥i tr∆∞·ªùng, r·ªìi database, r·ªìi IDE, c·∫•u h√¨nh web..vv. Ki·ªÉu ki·ªÉu m·ªçi ng∆∞·ªùi ph·∫£i ƒë·ªìng b·ªô v·ªõi nhau ·∫•y, r·∫•t chi l√† m·∫•t c√¥ng. N·∫øu m√† s·ª≠ d·ª•ng docker, th√¨ 1 √¥ng c√†i th·∫≠t chu·∫©n, xong r·ªìi ƒë√≥ng g√≥i l·∫°i th√†nh 1 docker, r·ªìi c√°c ng∆∞·ªùi kh√°c ch·ªâ vi·ªác k√©o v·ªÅ, v√† \"Run\" c√°i docker ƒë√≥ th√¥i. Nghe c√≥ v·∫ª gi·ªëng ki·ªÉu m√°y ·∫£o nh·ªâ? c√†i l√™n, xong ƒë√≥ng g√≥i l·∫°i th√†nh file .iso , ƒëem sang m√°y kh√°c burn, ƒë∆∞·ª£c c√°i m√°y ·∫£o t∆∞∆°ng t·ª±. Th·ª±c ra th√¨ n√≥ c√≥ kh√°c nhau ·ªü c√°i t·∫ßng kernel b√™n d∆∞·ªõi. Th√¥i th√¨ m·ªói th·∫±ng 1 v·∫ª, c√°i n√†y ai ham h·ªë th√¨ t√¨m hi·ªÉu ri√™ng. "},{type:b,tag:w,props:{},children:[{type:a,value:"Note: docker l√†m ƒë∆∞·ª£c nhi·ªÅu ƒëi·ªÅu h∆°n n·ªØa, nh∆∞ng m√† m√¨nh ch·ªâ th·∫•y ƒë∆∞·ª£c l·ª£i √≠ch c·ªßa n√≥ khi c√†i Drone l√† nh∆∞ v·∫≠y th√¥i."}]},{type:a,value:" ƒê·ªçc l√Ω thuy·∫øt ho√†i c≈©ng kh√° l√† m∆° h·ªì, m√¨nh quy·∫øt ƒë·ªãnh c·ª© c√†i th·ª≠, r·ªìi b·∫≠t n√≥ l√™n xem h√¨nh th√π n√≥ nh∆∞ th·∫ø n√†o ƒë√£. C√°c c·ª• b·∫£o r·ªìi, trƒÉm nghe kh√¥ng b·∫±ng 1 th·∫•y. V√†o lu√¥n trang ch·ªß h∆∞·ªõng d·∫´n: "},{type:b,tag:e,props:{href:P,rel:[f,g,h],target:i},children:[{type:a,value:P}]},{type:a,value:" Th·ªÅ! Ai m√† kh√¥ng bi·∫øt docker t·ª´ tr∆∞·ªõc nh∆∞ m√¨nh, ch·∫Øc v√†o trang ch·ªß, ƒë·ªçc c√°ch n√≥ h∆∞·ªõng d·∫´n c√†i ƒë·∫∑t ch·∫Øc loay hoay m√£i kh√¥ng hi·ªÉu lu√¥n."}]},{type:a,value:c},{type:b,tag:A,props:{id:"c√†i-ƒë·∫∑t"},children:[{type:b,tag:e,props:{href:"#c%C3%A0i-%C4%91%E1%BA%B7t",ariaHidden:B,tabIndex:C},children:[{type:b,tag:D,props:{className:[E,F]},children:[]}]},{type:a,value:"C√†i ƒë·∫∑t"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:k,props:{},children:[{type:b,tag:o,props:{},children:[{type:a,value:"B∆∞·ªõc 1. T·∫°o server"}]},{type:a,value:" Reg t·∫°m c√°i acc Digital Ocean, create 2 con server: "},{type:b,tag:j,props:{alt:l,src:"https:\u002F\u002Fviblo.asia\u002Fuploads\u002Fec4b6a6d-cbb6-4b5e-ad94-e1901acc7893.jpg"},children:[]},{type:a,value:" Con drone-server s·∫Ω d√πng ƒë·ªÉ c√†i drone, c√≤n web-server ƒë·ªÉ deploy java web code."}]},{type:a,value:c},{type:b,tag:k,props:{},children:[{type:b,tag:o,props:{},children:[{type:a,value:"B∆∞·ªõc 2. C√†i docker, docker compose tr√™n drone-server"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"2.1 C√†i docker C√°i n√†y trang ch·ªß c·ªßa n√≥ h∆∞·ªõng d·∫´n d√†i l√™ th√™ ƒë√¢y: "},{type:b,tag:e,props:{href:Q,rel:[f,g,h],target:i},children:[{type:a,value:Q}]},{type:b,tag:m,props:{},children:[]},{type:a,value:"\nC∆° m√† Server m√¨nh l√† ubuntu 16.04, n√™n c√†i v·∫Øn t·∫Øt sau l√† ƒë·ªß:"}]},{type:a,value:c},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,t]},children:[{type:b,tag:u,props:{},children:[{type:a,value:"sudo apt-get update\n\nsudo apt-get install \\\n    apt-transport-https \\\n    ca-certificates \\\n    curl \\\n    software-properties-common\n\ncurl -fsSL https:\u002F\u002Fdownload.docker.com\u002Flinux\u002Fubuntu\u002Fgpg | sudo apt-key add -\n\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https:\u002F\u002Fdownload.docker.com\u002Flinux\u002Fubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\nsudo apt-get update\nsudo apt-get install docker-ce\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"G√µ l·ªánh ‚Äúdocker images‚Äù ƒë·ªÉ test xem c√†i xong ch∆∞a "},{type:b,tag:j,props:{alt:l,src:"https:\u002F\u002Fviblo.asia\u002Fuploads\u002F2c0dc258-2d98-4a63-aa29-82173013df72.png"},children:[]},{type:a,value:" 2.2 C√†i docker compose L·ª±a m√£i m·ªõi ƒë∆∞·ª£c c√°i link c√†i th√†nh c√¥ng: "},{type:b,tag:e,props:{href:R,rel:[f,g,h],target:i},children:[{type:a,value:R}]}]},{type:a,value:c},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,t]},children:[{type:b,tag:u,props:{},children:[{type:a,value:"sudo curl -o \u002Fusr\u002Flocal\u002Fbin\u002Fdocker-compose -L \"https:\u002F\u002Fgithub.com\u002Fdocker\u002Fcompose\u002Freleases\u002Fdownload\u002F1.11.2\u002Fdocker-compose-$(uname -s)-$(uname -m)\"\n\nsudo chmod +x \u002Fusr\u002Flocal\u002Fbin\u002Fdocker-compose\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Test done!"}]},{type:a,value:c},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,t]},children:[{type:b,tag:u,props:{},children:[{type:a,value:"docker-compose ‚Äìv\n"}]}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:k,props:{},children:[{type:b,tag:o,props:{},children:[{type:a,value:"B∆∞·ªõc 3 C√†i drone b·∫±ng docker"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"K√©o c√°i g√≥i docker c√†i s·∫µn drone ch√≠nh ch·ªß v·ªÅ"}]},{type:a,value:c},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,t]},children:[{type:b,tag:u,props:{},children:[{type:a,value:"docker pull drone\u002Fdrone:0.7\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"T·∫°o m·ªôt c√°i file docker-compose.yml "},{type:b,tag:w,props:{},children:[{type:a,value:"(t·∫°o lu√¥n t·∫°i th∆∞ m·ª•c g·ªëc tr√™n server lu√¥n cho n√≥ng, ƒë·ª° ph·∫£i mkdir directory phi·ªÅn h√†)"}]},{type:a,value:" Format file docker-compose.yml nh∆∞ sau:"}]},{type:a,value:c},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,t]},children:[{type:b,tag:u,props:{},children:[{type:a,value:"version: '2'\n\nservices:\n  drone-server:\n    image: drone\u002Fdrone:0.7\n    ports:\n      - 80:8000\n    volumes:\n      - \u002Fvar\u002Flib\u002Fdrone:\u002Fvar\u002Flib\u002Fdrone\u002F\n    restart: always\n    environment:\n      - DRONE_OPEN=true\n      - DRONE_HOST=${DRONE_HOST}\n      - DRONE_GITHUB=true\n      - DRONE_GITHUB_CLIENT=${DRONE_GITHUB_CLIENT}\n      - DRONE_GITHUB_SECRET=${DRONE_GITHUB_SECRET}\n      - DRONE_SECRET=${DRONE_SECRET}\n\n  drone-agent:\n    image: drone\u002Fdrone:0.7\n    command: agent\n    restart: always\n    depends_on:\n      - drone-server\n    volumes:\n      - \u002Fvar\u002Frun\u002Fdocker.sock:\u002Fvar\u002Frun\u002Fdocker.sock\n    environment:\n      - DRONE_SERVER=ws:\u002F\u002Fdrone-server:8000\u002Fws\u002Fbroker\n      - DRONE_SECRET=${DRONE_SECRET}\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Thay ${DRONE_HOST} th√†nh ƒë·ªãa ch·ªâ con drone-server : 128.199.107.170 V√†o github t·∫°o 2 gi√° tr·ªã ${DRONE_GITHUB_CLIENT} v·ªõi ${DRONE_GITHUB_SECRET}"}]},{type:a,value:c},{type:b,tag:"blockquote",props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"C√°i n√†y ch·∫Øc l√† c√°ch ƒë·ªÉ li√™n k·∫øt gi·ªØa drone v·ªõi github ƒë√¢y m√† V√†o "},{type:b,tag:e,props:{href:x,rel:[f,g,h],target:i},children:[{type:a,value:y}]},{type:a,value:" =\u003E Settings =\u003E Oauth applications "},{type:b,tag:j,props:{alt:l,src:v},children:[]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"${DRONE_SECRET} ? What is it? Ch·∫Øc l√† password cho m√¨nh t·ª± nh·∫≠p "},{type:b,tag:j,props:{alt:"üòÉ",src:"https:\u002F\u002Ftwemoji.maxcdn.com\u002F2\u002F72x72\u002F1f603.png"},children:[]},{type:a,value:"), m√¨nh ƒë·∫∑t lu√¥n l√† ‚Äúdronesecret‚Äù cho n√≥ chuy√™n nghi·ªáp. √Ä, M√¨nh ƒë√£ ‚Äúv√¥ t√¨nh‚Äù thay c√°i ‚Äúws:\u002F\u002Fdrone-server:8000\u002Fws\u002Fbroker‚Äù th√†nh ws:\u002F\u002F 128.199.107.170:8000\u002Fws\u002Fbroker K·∫øt qu·∫£ l√† n√≥ l·ªói, kh√¥ng ch·∫°y ƒë∆∞·ª£c."},{type:b,tag:m,props:{},children:[]},{type:a,value:"\nT·ªïng k·∫øt l·∫°i:"}]},{type:a,value:c},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,t]},children:[{type:b,tag:u,props:{},children:[{type:a,value:"version: '2'\n\nservices:\n  drone-server:\n    image: drone\u002Fdrone:0.7\n    ports:\n      - 80:8000\n    volumes:\n      - \u002Fvar\u002Flib\u002Fdrone:\u002Fvar\u002Flib\u002Fdrone\u002F\n    restart: always\n    environment:\n      - DRONE_OPEN=true\n      - DRONE_HOST=128.199.107.170\n      - DRONE_GITHUB=true\n      - DRONE_GITHUB_CLIENT=291495405448f01f3c90\n      - DRONE_GITHUB_SECRET=4241178f98c68c7ebde15b9b3266f57a12343924\n      - DRONE_SECRET=dronesecret\n\n  drone-agent:\n    image: drone\u002Fdrone:0.7\n    command: agent\n    restart: always\n    depends_on:\n      - drone-server\n    volumes:\n      - \u002Fvar\u002Frun\u002Fdocker.sock:\u002Fvar\u002Frun\u002Fdocker.sock\n    environment:\n      - DRONE_SERVER=ws:\u002F\u002Fdrone-server:8000\u002Fws\u002Fbroker\n      - DRONE_SECRET=dronesecret\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Ch·∫°y docker b·∫±ng l·ªánh:"}]},{type:a,value:c},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,t]},children:[{type:b,tag:u,props:{},children:[{type:a,value:"root@drone-server:~# docker-compose up\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"May qu√°, n√≥ ra c√°i log n√†y, nh√¨n c√≥ v·∫ª ƒë√∫ng ƒë√∫ng: "},{type:b,tag:j,props:{alt:l,src:v},children:[]},{type:a,value:" Th·ª≠ truy c·∫≠p v√†o website "},{type:b,tag:e,props:{href:S,rel:[f,g,h],target:i},children:[{type:a,value:S}]},{type:a,value:" xem sao May qu√°, l√™n ƒë√®n :3 "},{type:b,tag:j,props:{alt:l,src:v},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Click v√†o login, v√† th·ª±c hi·ªán ƒëƒÉng nh·∫≠p b·∫±ng t√†i kho·∫£n "},{type:b,tag:e,props:{href:x,rel:[f,g,h],target:i},children:[{type:a,value:y}]},{type:a,value:" V√†o Accounts v√† l·ª±a ch·ªçn l·∫•y 1 repository tr√™n "},{type:b,tag:e,props:{href:x,rel:[f,g,h],target:i},children:[{type:a,value:y}]},{type:a,value:K},{type:b,tag:j,props:{alt:l,src:v},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"My repository: "},{type:b,tag:e,props:{href:T,rel:[f,g,h],target:i},children:[{type:a,value:T}]},{type:a,value:" ·ªû ƒë√¢y c√≥ s·∫µn c√°i project m·∫´u, vi·∫øt b·∫±ng java, c√≥ d√πng SpringFramework. C√°i repository n√†y, quan tr·ªçng nh·∫•t l√† c√°i file .drone.yml B·ªüi khi github c√≥ s·ª± ki·ªán m·ªõi, th√¨ th·∫±ng drone s·∫Ω ƒë·ªçc c√°i file .drone.yml n√†y m√† tri·ªÉn. N√¥m na c√°i file n√†y th√¨ ghi tu·∫ßn t·ª± c√°c b∆∞·ªõc ph·∫£i l√†m. N·ªôi dung c√°i file .drone.yml ghi g√¨, th√¨ t·ª´ t·ª´ vi·∫øt. L√™n √Ω t∆∞·ªüng ƒë√£."}]},{type:a,value:c},{type:b,tag:A,props:{id:"th·ª≠-nghi·ªám-auto-deploy-v·ªõi-drone"},children:[{type:b,tag:e,props:{href:"#th%E1%BB%AD-nghi%E1%BB%87m-auto-deploy-v%E1%BB%9Bi-drone",ariaHidden:B,tabIndex:C},children:[{type:b,tag:D,props:{className:[E,F]},children:[]}]},{type:a,value:"Th·ª≠ nghi·ªám auto deploy v·ªõi Drone"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:k,props:{},children:[{type:b,tag:o,props:{},children:[{type:a,value:"B∆∞·ªõc 4. L√™n √Ω t∆∞·ªüng"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"‚ÄúTr√™n github c√≥ s·∫µn code java r·ªìi, b√¢y gi·ªù ta s·∫Ω pull c√°i code n√†y v·ªÅ con web-server, sau ƒë√≥ deploy n√≥ b·∫±ng maven, r·ªìi quƒÉng file .war v√†o th∆∞ m·ª•c c·ªßa tomcat. Sau ƒë√≥ ta s·∫Ω b·∫≠t tomcat l√™n, truy c·∫≠p v√†o c√°i website Springwebdemo ƒë√≥. ƒê·ªÉ ki·ªÉm tra m·ªçi th·ª© ƒë√∫ng quy tr√¨nh. Sau ƒë·∫•y ta s·∫Ω edit giao di·ªán code c·ªßa Project SpringWebdemo, r·ªìi commit l√™n "},{type:b,tag:e,props:{href:x,rel:[f,g,h],target:i},children:[{type:a,value:y}]},{type:a,value:", xem c√°i th·∫±ng drone n√≥ c√≥ t·ª± ƒë·ªông deploy kh√¥ng? N·∫øu giao di·ªán website c√≥ thay ƒë·ªïi, v·∫≠y l√† th√†nh c√¥ng =)),"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"√ù, nh∆∞ng m√† v·∫≠y th√¨ ƒë∆°n gi·∫£n qu√°, l√†m cho n√≥ complex l√™n t√Ω =)) ta s·∫Ω s·ª≠ d·ª•ng c√°i plugin maven-checkstyle-plugin, ƒë∆∞·ª£c khai b√°o trong file pom.xml, c√°i plugin n√†y s·∫Ω check c√°c error li√™n quan t·ªõi style code c·ªßa project, n·∫øu m√† error \u003E1, th√¨ s·∫Ω kh√¥ng deploy, n·∫øu error=0 th√¨ s·∫Ω deploy, deploy xong s·∫Ω g·ª≠i email v·ªÅ gmail cho m√¨nh ‚Äù"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"=\u003E K·ªãch b·∫£n tuy·ªát v·ªùi"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:k,props:{},children:[{type:b,tag:o,props:{},children:[{type:a,value:"B∆∞·ªõc 5. C√†i ƒë·∫∑t tomcat, java, maven"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"L√¢u kh√¥ng c√†i m·∫•y c√°i n√†y, qu√™n h·∫øt m·∫•t ti√™u, c√†i faile m·∫•y l·∫ßn, may m√† cu·ªëi c√πng v·ªõ ƒë∆∞·ª£c c√°i link n√†y: "},{type:b,tag:e,props:{href:U,rel:[f,g,h],target:i},children:[{type:a,value:U}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:k,props:{},children:[{type:b,tag:o,props:{},children:[{type:a,value:"B∆∞·ªõc 6: C√†i ssh github cho web-server, deploy Springwebdemo tr√™n web-server"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"M·ª•c ƒë√≠ch ƒë·ªÉ sau n√†y vi·∫øt command trong file .drone.yml d·ªÖ h∆°n, kh√¥ng ph·∫£i nh·∫≠p username, password Test th·ª≠ c√°i web "},{type:b,tag:e,props:{href:V,rel:[f,g,h],target:i},children:[{type:a,value:V}]},{type:a,value:K},{type:b,tag:j,props:{alt:l,src:v},children:[]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:k,props:{},children:[{type:b,tag:o,props:{},children:[{type:a,value:"B∆∞·ªõc 7. Bi√™n so·∫°n c√°i file .drome.yml"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"L√†m t·ª´ng b∆∞·ªõc v·∫≠y vi·∫øt c√°i ƒëo·∫°n auto deploy ƒë√£, th√†nh c√¥ng r·ªìi s·∫Ω edit l·∫°i ƒë·ªÉ n√≥ chuy·ªÉn sang ki·ªÉu check error style, v·ªõi report qua email sau."}]},{type:a,value:c},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,t]},children:[{type:b,tag:u,props:{},children:[{type:a,value:"pipeline:\n  ssh:\n    image: appleboy\u002Fdrone-ssh\n    host: 128.199.72.109\n    username: root\n    password: framgia\n    port: 22\n    script:\n      - cd \u002Froot\u002Fworkspace\u002FSpringWebDemo\u002F\n      - git pull origin master\n      - mvn install\n      - rm -rf \u002Fopt\u002Ftomcat\u002Fwebapps\u002Fspringwebdemo*\n      - mv \u002Froot\u002Fworkspace\u002FSpringWebDemo\u002Ftarget\u002Fspringwebdemo.war \u002Fopt\u002Ftomcat\u002Fwebapps\u002F\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"L√†m sao ƒë·ªÉ m√¨nh bi·∫øt ƒë∆∞·ª£c c√°ch vi·∫øt file drone.yml n√†y? M√¨nh v√†o "},{type:b,tag:e,props:{href:W,rel:[f,g,h],target:i},children:[{type:a,value:W}]},{type:a,value:" , ·ªü ƒë√¢y support nhi·ªÅu plugin, ssh, email, git, S3‚Ä¶V√†o ƒë·ªçc document, r·ªìi b·∫Øt chi·∫øc th√¥i "},{type:b,tag:j,props:{alt:I,src:J},children:[]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:k,props:{},children:[{type:b,tag:o,props:{},children:[{type:a,value:"B∆∞·ªõc 8. new commit to github"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Th·ª±c hi·ªán edit file \u002Fsrc\u002Fmain\u002Fwebapp\u002FWEB-INF\u002Fviews\u002Findex.jsp tr√™n local, v√† commit n√≥ l√™n "},{type:b,tag:e,props:{href:x,rel:[f,g,h],target:i},children:[{type:a,value:y}]},{type:a,value:". Theo d√µi xem ƒëi·ªÅu g√¨ x·∫£y ra ƒê·∫ßu ti√™n l√† website project. View ƒë√£ auto thay ƒë·ªïi "},{type:b,tag:j,props:{alt:l,src:v},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Giao di·ªán drone c≈©ng th·∫ø, click v√†o clone v√† ssh, hi·ªán console log lu√¥n: "},{type:b,tag:j,props:{alt:l,src:v},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Chap n√†y m√¨nh xin d·ª´ng t·∫°i ƒë√¢y! "},{type:b,tag:w,props:{},children:[{type:a,value:"PS: vi·∫øt ki·ªÉu nh·∫≠t k√Ω n√†y th·∫•y b√†i vi·∫øt d√†i g√™ (tungtang)"}]}]}]},dir:"\u002F2021\u002Fviblo",path:"\u002F2021\u002Fviblo\u002Fnhat-ky-hoc-ci-cd-bat-dau-tu-droneio-gDVK2wxvZLj",extension:".md",createdAt:"2021-08-07T19:54:03.592Z",updatedAt:"2021-08-07T19:54:03.593Z",readingTime:{text:"8 min read",minutes:7.98,time:478800,words:1596},locale:"vi",slugWithoutLocale:z},slug:z,prev:{slug:"cheat-engine-hack-game",title:"H∆∞·ªõng d·∫´n hackgame v·ªõi Cheat engine"},next:{slug:"giai-phap-multi-tenancy",title:"Gi·∫£i ph√°p multi-tenancy"}}],fetch:{},mutations:void 0}}("text","element","\n","p","a","nofollow","noopener","noreferrer","_blank","img","li","","br","ul","strong","div","nuxt-content-highlight","pre","language-text","line-numbers","code","data:image\u002Fgif;base64,R0lGODlhAQABAIAAAAAAAP\u002F\u002F\u002FyH5BAEAAAAALAAAAAABAAEAAAIBRAA7","em","http:\u002F\u002Fgithub.com","github.com","nhat-ky-hoc-ci-cd-bat-dau-tu-droneio-gDVK2wxvZLj","h1","true",-1,"span","icon","icon-link","http:\u002F\u002FDrone.io","Drone.io","üò¶","https:\u002F\u002Ftwemoji.maxcdn.com\u002F2\u002F72x72\u002F1f626.png"," ","https:\u002F\u002Fviblo.asia\u002Fp\u002Fgioi-thieu-ve-ci-continuous-integration-NbmvbzpnvYO","https:\u002F\u002Fviblo.asia\u002Fp\u002Fcicd-with-jenkins-p1-bWrZnLLv5xw","https:\u002F\u002Fviblo.asia\u002Fp\u002Fci-cd-va-devops-07LKXYXDZV4","https:\u002F\u002Fviblo.asia\u002Fp\u002Fcontinuous-integration-with-jenkins-bai-1-gioi-thieu-ve-ci-va-jenkins-OeVKBggEZkW","http:\u002F\u002Fdocs.drone.io\u002Finstallation\u002F","https:\u002F\u002Fdocs.docker.com\u002Fengine\u002Finstallation\u002Flinux\u002Fdocker-ce\u002Fubuntu\u002F#install-using-the-convenience-script","https:\u002F\u002Fwww.digitalocean.com\u002Fcommunity\u002Ftutorials\u002Fhow-to-install-docker-compose-on-ubuntu-16-04","http:\u002F\u002F128.199.107.170\u002F","https:\u002F\u002Fgithub.com\u002Ftungtv202\u002FSpringWebDemo","https:\u002F\u002Fwww.digitalocean.com\u002Fcommunity\u002Ftutorials\u002Fhow-to-install-apache-tomcat-8-on-ubuntu-16-04","http:\u002F\u002F128.199.72.109:8080\u002Fspringwebdemo\u002F","http:\u002F\u002Fplugins.drone.io\u002F")));